<html>
  <head>
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  </head>
  <body>

    <!-- Insert everything below this for the chat component to work, styles in the Head tag are for the https://material.io/ classes used for the buttons. -->

    <!-- this button only appears if there are agents online in Salesforce with the corresponding skill -->
    <button class="mdc-button mdc-button--outlined" onclick="liveagent.startChat('573P00000004HZf')" href="javascript://Chat" id="liveagent_button_online_573P00000004HZf" style="display: none">
      <div class="mdc-button__ripple"></div>
      <span class="mdc-button__label">Chat Now</span>
    </button>

    <button id="liveagent_button_offline_573P00000004HZf" style="display: none" class="mdc-button mdc-button--outlined" disabled>
      <div class="mdc-button__ripple"></div>
      <span class="mdc-button__label">No Agents Available</span>
    </button>

    <!-- to replace the buttons above with the default way of initiating a chat (Just hyperlinks) use the following 
        
        <a
          id="liveagent_button_online_573P00000004HZf"
          href="javascript://Chat"
          style="display: none"
          onclick="liveagent.startChat('573P00000004HZf')"
        >
          Online Chat Content
        </a>
      
        <div id="liveagent_button_offline_573P00000004HZf" style="display: none">
          Offline Chat Content
        </div>
    
    -->

    <script type="text/javascript">
      if (!window._laq) {
        window._laq = [];
      }
      window._laq.push(function () {
        liveagent.showWhenOnline(
          "573P00000004HZf",
          document.getElementById("liveagent_button_online_573P00000004HZf")
        );
        liveagent.showWhenOffline(
          "573P00000004HZf",
          document.getElementById("liveagent_button_offline_573P00000004HZf")
        );
      });
    </script>

    <script
      type="text/javascript"
      src="https://c.la1-c1cs-ia2.salesforceliveagent.com/content/g/js/50.0/deployment.js"
    ></script>

    <script type="text/javascript">
      // variables that we want to pass to Salesforce
      // Used for testing, replace as needed.
      var firstName = "Dakota";
      var lastName = "Marcy";
      var email = "dakota@preChat.com";
      var subject = "Your subject goes here";
      var accountId = "0014100000NbEFsAAN";
      var chatOrigin = "Heartland Retail";
      var product = "Digital Dining";


      /*
       * addCustomDetails maps values into the prechat page for passing into Salesforce objects
       *
       * Syntax: 
       *   addCustomDetail(String label, String value)
       * Everything mapped through addCustomDetail will be displayed in a text field on the Case created by the Chat
       */
      // required for Contact and Case creation/mapping
      // FirstName, LastName, Email, AccountId, Subject
      liveagent.addCustomDetail("FirstName", firstName); 
      liveagent.addCustomDetail("LastName", lastName);
      liveagent.addCustomDetail("Email", email);
      liveagent.addCustomDetail("AccountId", accountId);
      liveagent.addCustomDetail("Subject", subject);

      liveagent.init(
        "https://d.la1-c1cs-ia2.salesforceliveagent.com/chat",
        "57241000000LQ4O",
        "00DP0000003pL4s"
      );

      // This is used to set the Display name of the user requesting a chat
      // if not set the Agent sees "Visitor"
      liveagent.setName(firstName + ' ' + lastName[0] + '.');
    </script>
  </body>
</html>
